<style>
  mat-form-field {
    margin-top: 2rem;
  }
</style>
<form [formGroup]="newForm" (ngSubmit)="onSubmit(newForm.value)">
  
  <!-- <mat-tab-group [color]="accent">
    <mat-tab label="Thuộc tính cơ bản 1"> -->
      <mat-form-field appearance="outline" floatLabel="always" class="w-100-p" [color]="accent" style="width: 100%;">
        <mat-label>Id</mat-label>
        <input matInput [value]="service.product.id" readonly>
      </mat-form-field>
      <mat-form-field appearance="outline" floatLabel="always" class="w-100-p" [color]="accent" style="width: 100%;">
        <mat-label>Tên</mat-label>
        <input matInput placeholder="Tên" formControlName="Ten" type="text" [(ngModel)]="service.product.ten" required>
      </mat-form-field>

      <div *ngIf="Ten.invalid && (Ten.dirty || Ten.touched)" class="alert alert-danger">
        
        <div *ngIf="Ten.errors.required">
          Tên không được bỏ trống
        </div>
        <div *ngIf="Ten.errors.minlength">
          Tên không được dưới 2 kí tự
        </div>
        <div *ngIf="Ten.errors.maxlength">
          Tên không được trên 100 kí tự
        </div>
        <div *ngIf="Ten.errors.pattern">
          Tên không được có kí tự đặc biệt
        </div>
      </div> 



      <mat-form-field appearance="outline" floatLabel="always" class="w-100-p" [color]="accent" style="width: 100%;">
        <mat-label>Gia</mat-label>
        <input matInput placeholder="Giá" formControlName="Gia" type="number" [(ngModel)]="service.product.gia" required>
    
      </mat-form-field>

      <div *ngIf="Gia.invalid && (Gia.dirty || Gia.touched)" class="alert alert-danger">
        <div *ngIf="Gia.errors.required">
          Giá sản phẩm không được bỏ trống
        </div>
        <div *ngIf="Gia.errors.minlength">
          Giá không được dưới 3 kí tự
        </div>
        <div *ngIf="Gia.errors.maxlength">
          Giá không được trên 10 kí tự
        </div>
      </div> 
      <mat-form-field appearance="outline" floatLabel="always" class="w-100-p" [color]="accent" style="width: 100%;">
        <mat-label>Khuyến mãi</mat-label>
        <input matInput placeholder="Khuyến mãi" formControlName="KhuyenMai" type="number"  [(ngModel)]="service.product.khuyenMai" required>
     
      </mat-form-field>

      <div *ngIf="KhuyenMai.invalid && (KhuyenMai.dirty || KhuyenMai.touched)" class="alert alert-danger">
        <div *ngIf="KhuyenMai.errors.required">
          Khuyến mãi không được bỏ trống
        </div>
        <div *ngIf="KhuyenMai.errors.minlength">
          Giá không được dưới 1 kí tự
        </div>
        <div *ngIf="KhuyenMai.errors.maxlength">
          Giá không được trên 5 kí tự
        </div>
      </div> 
     
    <!-- </mat-tab>
    <mat-tab label="Thuộc tính cơ bản 2"> -->
     <br>
      <mat-label>Mô tả</mat-label>
      <ckeditor formControlName="MoTa" [editor]="Editor" [(ngModel)]="service.product.moTa" required></ckeditor>
 
      
      <div *ngIf="MoTa.invalid && (MoTa.dirty || MoTa.touched)" class="alert alert-danger">
        <div *ngIf="MoTa.errors.required">
          Mô tả không được bỏ trống
        </div>
        <div *ngIf="MoTa.errors.minlength">
         Mô tả không được dưới 10 kí tự
        </div>
        <div *ngIf="MoTa.errors.maxlength">
        Mô tả không được trên 100 kí tự
        </div>
      </div> 
      <mat-form-field appearance="outline" floatLabel="always" class="w-100-p" [color]="accent" style="width: 100%;">
        <mat-label>Tag</mat-label>
        <input matInput placeholder="Tag" formControlName="Tag" type="text" [(ngModel)]="service.product.tag" required>
       
      </mat-form-field>
      <div *ngIf="Tag.invalid && (Tag.dirty || Tag.touched)" class="alert alert-danger">
        <div *ngIf="Tag.errors.required">
         Tag không được bỏ trống
        </div>
        <div *ngIf="Tag.errors.minlength">
          Tag không được dưới 3 kí tự
        </div>
        <div *ngIf="Tag.errors.maxlength">
          Tag không được trên 15 kí tự
        </div>
      </div> 
      <mat-form-field appearance="outline" floatLabel="always" class="w-100-p" [color]="accent"
        style="width: 100%;margin-top: 2rem;">
        <mat-label>Hướng dẫn</mat-label>
        <textarea matInput placeholder="Hướng dẫn" formControlName="HuongDan" type="text" rows="3" [(ngModel)]="service.product.huongDan" required>
      </textarea>
  
      </mat-form-field>
      <div *ngIf="HuongDan.invalid && (HuongDan.dirty || HuongDan.touched)" class="alert alert-danger">
        <div *ngIf="HuongDan.errors.required">
        Hướng dẫn không được bỏ trống
        </div>
        <div *ngIf="HuongDan.errors.minlength">
         Hướng dẫn không được dưới 3 kí tự
        </div>
        <div *ngIf="HuongDan.errors.maxlength">
         Hướng dẫn không được trên 15 kí tự
        </div>
      </div> 
      <mat-form-field appearance="outline" floatLabel="always" class="w-100-p" [color]="accent" style="width: 100%;">
        <mat-label>Thành phần</mat-label>
        <input matInput placeholder="Thành phần" formControlName="ThanhPhan" type="text" [(ngModel)]="service.product.thanhPhan" required>
      
      </mat-form-field>
      <div *ngIf="ThanhPhan.invalid && (ThanhPhan.dirty || ThanhPhan.touched)" class="alert alert-danger">
        <div *ngIf="ThanhPhan.errors.required">
         Thành phần không được bỏ trống
        </div>
        <div *ngIf="ThanhPhan.errors.minlength">
          Thành phần không được dưới 3 kí tự
        </div>
        <div *ngIf="ThanhPhan.errors.maxlength">
          Thành phần không được trên 50 kí tự
        </div>
        <div *ngIf="ThanhPhan.errors.pattern">
          Thành phần không được có kí tự đặc biệt
        </div>
      </div> 
    
    <!-- </mat-tab>
    <mat-tab label="Thuộc tính cơ bản 3"> -->
      <br>
      <div class="form-group">
        <span class="label label-default">Loại</span>
        <select class="form-control" [(ngModel)]="service.product.tenLoai" formControlName="Id_Loai" required>
            <option  *ngFor="let category of this.categories"
                [value]="category.id">{{category.ten}}</option>
        </select>
        <div *ngIf="Id_Loai.invalid && (Id_Loai.dirty || Id_Loai.touched)" class="alert alert-danger">

          <div *ngIf="Id_Loai.errors.required">
           Loại sản phẩm không được bỏ trống
          </div>
      </div>
    </div>
    <div class="form-group">
      <span class="label label-default">Nhãn hiệu</span>
      <select class="form-control" [(ngModel)]="service.product.tenNhanHieu" formControlName="Id_NhanHieu" required>
          <option  *ngFor="let brand of this.brands"
              [value]="brand.id">{{brand.ten}}</option>
      </select>
      <div *ngIf="Id_NhanHieu.invalid && (Id_NhanHieu.dirty || Id_NhanHieu.touched)" class="alert alert-danger">

        <div *ngIf="Id_NhanHieu.errors.required">
         Nhãn hiệu sản phẩm không được bỏ trống
        </div>
    </div>
  </div>
  <mat-label>Trạng thái sản phẩm</mat-label>
      <select class="form-control" [(ngModel)]="service.product.trangThaiSanPham" formControlName="TrangThaiSanPham" required>
        <option 
            value="thuong">Sản phẩm thường
        </option>
        <option 
            value="hot">Sản phẩm hot 
        </option>
        <option 
            value="new">Sản phẩm new
        </option>
        <option 
            value="sale">Sản phẩm khuyến mãi
        </option>
    </select>
    <br>
    <div *ngIf="TrangThaiSanPham.invalid && (TrangThaiSanPham.dirty || TrangThaiSanPham.touched)" class="alert alert-danger">

      <div *ngIf="TrangThaiSanPham.errors.required">
       Trạng thái sản phẩm không được bỏ trống
      </div>
  </div>
  <mat-label>Trạng thái hoạt động</mat-label>
    <select class="form-control" [(ngModel)]="service.product.trangThaiHoatDong" formControlName="TrangThaiHoatDong" required>
      <option 
          value="on">Bật
      </option>
      <option 
          value="off">Tắt 
      </option>
    </select>
    <br>
    <div *ngIf="TrangThaiHoatDong.invalid && (TrangThaiHoatDong.dirty || TrangThaiHoatDong.touched)" class="alert alert-danger">

      <div *ngIf="TrangThaiHoatDong.errors.required">
       Trạng thái hoạt động không được bỏ trống
      </div>
  </div>
    <br>
    <!-- </mat-tab>
    <mat-tab label="Upload nhiều hình"> -->
      <div class="form-group">
        <input class="form-control" type="file" multiple (change)="gopHam($event)" required>
        <img *ngFor="let url of urls" [src]="url" class="rounded mb-3" width="180">
    </div>

    <!-- </mat-tab>
  </mat-tab-group> -->
<br>
  <button mat-button color="accent" type="submit"  style="width: 100%;" [disabled]="this.newForm.invalid">Submit</button>
</form>
